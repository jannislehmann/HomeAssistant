---
input_text:
  chore_change_bed:
  chore_clean_fridge:
  chore_clean_cooker_hood:
  chore_water_indoor_plants:
  chore_change_water_filter:

input_button:
  chore_change_bed:
    name: Bettw√§sche wechseln
    icon: mdi:bed
  chore_clean_fridge:
    name: K√ºhlschrank reinigen
    icon: mdi:fridge
  chore_clean_cooker_hood:
    name: Dunstabzugshaube reinigen
    icon: mdi:hvac
  chore_water_indoor_plants:
    name: Pflanzen gie√üen
    icon: mdi:flower-tulip-outline
  chore_change_water_filter:
    name: Wasserfilter wechseln
    icon: mdi:air-filter

script:
  chore_notify:
    alias: "Notify on due chores"
    fields:
      task_id:
        description: "The chore task id to notify if due"
        example: "chore_change_bed"
    sequence:
      - variables:
          button: "input_button.{{ task_id }}"
          text: "input_text.{{ task_id }}"
          next_due: "{{ states(button) | as_datetime + timedelta(days=states(text) | int) }}"
      - condition: template
        value_template: "{{ next_due | as_datetime < now() }}"
      - service: notify.telegram_group
        data:
          message: "üßπ {{ state_attr(button, 'friendly_name') }} muss erledigt werden."